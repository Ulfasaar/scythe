<!DOCTYPE html>
<html lang="en">
  <head>
  <title>Scythe the meta repo editor</title>
  <style type="text/css" media="screen">
      #editor { 
          position: absolute;
          top: 0;
          right: 0;
          bottom: 0;
          left: 0;
      }
  </style>
  </head>
  <body>

    <!-- new thing -->
    <div id="settings"> 

    </div>
    <div id="editor">
    </div>

    <div id="terminal">
      <iframe>
        <!-- wetty -->
      </iframe>
    </div>
        
    <!-- <script src="/ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script> -->
    <!-- <script src="src/ace.js" data-ace-base="src" type="text/javascript" charset="utf-8"></script> -->
    <!-- <script src="src/keybinding-vim.js"></script> -->
    <!-- <script src="shortcuts.js"></script> -->
    <script src="libs.1.js"></script>
    <!-- <script src="src/keybinding-emacs.js"></script> -->
    <!-- <script src="demo/kitchen-sink/demo.js"></script>    -->

    <script>
        var editor = ace.edit("editor");
        editor.setTheme("ace/theme/tomorrow_night_bright");
        editor.session.setMode("ace/mode/javascript");

        get_file('test.js', function(text){
          editor.session.setValue(text);
        });
//         editor.session.setValue(`function foo(items) {
//   var x = "All this is syntax highlighted";
//   return x;
// }`);
        shortcut.add("Ctrl+S", function(){
          save_file("test.js", editor.session.getValue());
        });

        shortcut.add("Ctrl+O", function(){
          get_files(function(files){
            alert(files);
          });
          // display modal asking which file to open
        });

        var vim_enabled = false;
        shortcut.add("Ctrl+Shift+v", function(){
          if(vim_enabled){
            editor.setKeyboardHandler('ace/keyboard/vim');
          }
          else{
            editor.setKeyboardHandler(null);
          }

          vim_enabled = !vim_enabled;
        });
    </script>
  </body>
</html>